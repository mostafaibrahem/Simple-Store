(this.webpackJsonptrufla_ui=this.webpackJsonptrufla_ui||[]).push([[0],{29:function(e,t,a){e.exports=a(57)},34:function(e,t,a){},35:function(e,t,a){},57:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),o=a(27),l=a.n(o),c=(a(34),a(35),a(11)),i=a(12),s=a.n(i),u="https://truflaapi.azurewebsites.net/api/",m=a(7),d=a(8),p=a(10),g=a(9),v=a(58),f=a(59),h=a(65),E=function(e){Object(p.a)(a,e);var t=Object(g.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={data:[]},e.getData=function(){s.a.get("".concat(u,"departments")).then((function(t){e.setState({data:t.data}),console.log("data",e.state.data)})).catch((function(e){return console.log(e.response)}))},e.onChange=function(t){console.log(t.target.value),sessionStorage.setItem("depatmentId",t.target.value),e.props.anyUpdate(0,t.target.value,sessionStorage.getItem("code"),sessionStorage.getItem("product"))},e}return Object(d.a)(a,[{key:"componentDidMount",value:function(){this.getData()}},{key:"render",value:function(){var e=this,t=this.state.data;return r.a.createElement("div",null,r.a.createElement(v.a,null,r.a.createElement(f.a,{for:"exampleCheckbox"},"Departments Filter"),r.a.createElement("div",null,r.a.createElement(h.a,{key:"frist",type:"radio",id:"fristid",name:"radio",label:"All",onChange:this.onChange,value:"0"}),t.map((function(t){return r.a.createElement(r.a.Fragment,null,r.a.createElement(h.a,{key:t.departmentId,type:"radio",id:t.departmentId,name:"radio",label:t.name_department,onChange:e.onChange,value:t.departmentId}))})))))}}]),a}(n.Component),y=a(60),b=function(e){Object(p.a)(a,e);var t=Object(g.a)(a);function a(){return Object(m.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){var e=this.props.products;return r.a.createElement("div",null,r.a.createElement(y.a,null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Product Name"),r.a.createElement("th",null,"Price"),r.a.createElement("th",null,"Discount"),r.a.createElement("th",null,"Code"),r.a.createElement("th",null,"Price After Discount"))),r.a.createElement("tbody",null,e.map((function(e){return r.a.createElement("tr",{key:e.productId},r.a.createElement("td",null,e.name),1===e.active?r.a.createElement("td",{style:{textDecoration:"line-through",color:"red"}}," ",e.price):r.a.createElement("td",null," ",e.price),1===e.active?r.a.createElement(r.a.Fragment,null,r.a.createElement("td",null,e.discount,"%"),r.a.createElement("td",null," ",e.code),r.a.createElement("td",{style:{color:"green"}},e.price*(100-e.discount)/100)):r.a.createElement(r.a.Fragment,null))})))))}}]),a}(n.Component),I=function(e){Object(p.a)(a,e);var t=Object(g.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={data:[]},e.getData=function(){s.a.get("".concat(u,"Promotions")).then((function(t){e.setState({data:t.data}),console.log("data",e.state.data)})).catch((function(e){return console.log(e.response)}))},e.onChange=function(t){console.log(t.target.value),sessionStorage.setItem("code",t.target.value),e.props.anyUpdate(0,sessionStorage.getItem("depatmentId"),t.target.value,sessionStorage.getItem("product")),sessionStorage.setItem("code",t.target.value)},e}return Object(d.a)(a,[{key:"componentDidMount",value:function(){this.getData()}},{key:"render",value:function(){var e=this,t=this.state.data;return r.a.createElement("div",null,r.a.createElement(v.a,null,r.a.createElement(f.a,{for:"exampleCheckbox"},"Promotion Code Filter"),r.a.createElement("div",null,r.a.createElement(h.a,{key:"afrist",type:"radio",id:"secondid",name:"radio1",label:"All",onChange:this.onChange,value:"a"}),t.map((function(t){return r.a.createElement(r.a.Fragment,null,0===t.active?r.a.createElement("div",{key:"a"+t.promotionId}):r.a.createElement(h.a,{key:"a"+t.promotionId,type:"radio",id:"a"+t.promotionId,name:"radio1",label:t.code,onChange:e.onChange,value:t.code}))})))))}}]),a}(n.Component),S=a(28),j=a(61),O=a(62),k=a(63);var C=function(e){var t=e.anyUpdate,a=e.totalPages;return r.a.createElement(r.a.Fragment,null,r.a.createElement(j.a,{style:{marginBottom:"10px"},"aria-label":"Page navigation example"},Object(S.a)(Array(a+1)).map((function(e,a){return r.a.createElement(O.a,{key:a},r.a.createElement(k.a,{key:a,onClick:function(){return t(a,sessionStorage.getItem("depatmentId"),sessionStorage.getItem("code"),sessionStorage.getItem("product"))}},a+1))}))))},x=a(64);var w=function(e){var t=Object(n.useState)(""),a=Object(c.a)(t,2),o=a[0],l=a[1];return r.a.createElement("div",null,r.a.createElement(v.a,null,r.a.createElement(f.a,{for:"exampleEmail"},"Product Name Filter"),r.a.createElement(x.a,{style:{width:"90%"},type:"text",name:"email",id:"exampleEmail",placeholder:"Search Product Name",onChange:function(t){l(t.target.value),sessionStorage.setItem("product",t.target.value),console.log(o),0===t.target.value.length?(e.anyUpdate(0,sessionStorage.getItem("depatmentId"),sessionStorage.getItem("code"),"__"),sessionStorage.setItem("product","__")):e.anyUpdate(0,sessionStorage.getItem("depatmentId"),sessionStorage.getItem("code"),sessionStorage.getItem("product"))},value:o})))};var N=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"nav"},r.a.createElement("img",{className:"navImage",src:"trufla-logo.png",alt:"trula-logo",height:"50px"})))};var D=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{class:"footer"},r.a.createElement("p",null,"Code Challenge By: \xa9 Mostafa Ibrahim ")))},F=function(e){Object(p.a)(a,e);var t=Object(g.a)(a);function a(){return Object(m.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,!0===this.props.mySpinner?r.a.createElement("div",{className:"spinnerDiv"},r.a.createElement("i",{className:"fa fa-spinner fa-5x spinner  fa-spin","aria-hidden":"true"})):"","overlay-off"===this.props.mySpinner?r.a.createElement("div",null,r.a.createElement("i",{className:"fa fa-spinner fa-5x spinner  fa-spin","aria-hidden":"true"})):"")}}]),a}(r.a.Component);var _=function(){var e=Object(n.useState)(10),t=Object(c.a)(e,2),a=t[0],o=(t[1],Object(n.useState)("0")),l=Object(c.a)(o,1)[0],i=Object(n.useState)(""),m=Object(c.a)(i,2),d=m[0],p=m[1],g=Object(n.useState)([]),v=Object(c.a)(g,2),f=v[0],h=v[1],y=Object(n.useState)(!0),S=Object(c.a)(y,2),j=S[0],O=S[1];function k(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"0",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"a",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"__";O(!0),s.a.get("".concat(u,"products/").concat(a,"/").concat(e,"/").concat(t,"/").concat(n,"/").concat(r)).then((function(e){h(e.data[0].value.productList),p(e.data[0].value.count),O(!1),console.log(f),console.log(d)})).catch((function(e){return console.log(e.response)}))}return Object(n.useEffect)((function(){console.log(u),k(),sessionStorage.setItem("depatmentId","0"),sessionStorage.setItem("code","a"),sessionStorage.setItem("product","__")}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(F,{mySpinner:j}),r.a.createElement(N,null),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"side"},r.a.createElement(w,{key:"filter1",anyUpdate:k}),r.a.createElement(E,{key:"filter2",anyUpdate:k}),r.a.createElement(I,{key:"filter3",anyUpdate:k})),r.a.createElement("div",{className:"main"},r.a.createElement(b,{products:f}),r.a.createElement(C,{totalPages:d,anyUpdate:k}))),r.a.createElement(D,null))};var P=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(_,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(55),a(56);l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(P,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[29,1,2]]]);
//# sourceMappingURL=main.43609e0f.chunk.js.map